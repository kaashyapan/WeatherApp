const e=e=>{let t=document.getElementById(e);t?.reset();let n=t.querySelectorAll(`.form-error`);n!==null&&t!==void 0&&n.forEach(e=>{e.remove()})},t=e=>{let t=document.getElementById(e);t!=null&&(t.action=`/signin`+window.location.search,t.method=`post`,t.submit())},n=e=>{let t=document.getElementById(e);t?.remove()},r=e=>setTimeout(()=>n(e),5e3),i=/ðŸ–•JS_DSðŸš€/.source,a=i.slice(0,5),o=i.slice(4),s=`datastar`,c=`Datastar-Request`,l=1e3,u=`type module`,d=!1,f=!1,p=!0,m={Morph:`morph`,Inner:`inner`,Outer:`outer`,Prepend:`prepend`,Append:`append`,Before:`before`,After:`after`,UpsertAttributes:`upsertAttributes`},h=m.Morph,g={MergeFragments:`datastar-merge-fragments`,MergeSignals:`datastar-merge-signals`,RemoveFragments:`datastar-remove-fragments`,RemoveSignals:`datastar-remove-signals`,ExecuteScript:`datastar-execute-script`};var _;(function(e){e[e.Attribute=1]=`Attribute`,e[e.Watcher=2]=`Watcher`,e[e.Action=3]=`Action`})(_||={});var v;(function(e){e[e.Allowed=0]=`Allowed`,e[e.Must=1]=`Must`,e[e.Denied=2]=`Denied`,e[e.Exclusive=3]=`Exclusive`})(v||={});const y=`${s}-signals`,b=e=>e.trim()===`true`,x=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,t)=>(t?`-`:``)+e.toLowerCase()),S=e=>x(e).replace(/-./g,e=>e[1].toUpperCase()),C=e=>x(e).replace(/-/g,`_`),w=e=>S(e).replace(/^./,e=>e[0].toUpperCase()),T=e=>Function(`return Object.assign({}, ${e})`)(),E=e=>e.startsWith(`$`)?e.slice(1):e,ee={kebab:x,snake:C,pascal:w};function D(e,t){for(let n of t.get(`case`)||[]){let t=ee[n];t&&(e=t(e))}return e}const te=`computed`,ne={type:_.Attribute,name:te,keyReq:v.Must,valReq:v.Must,onLoad:({key:e,mods:t,signals:n,genRX:r})=>{e=D(e,t);let i=r();n.setComputed(e,i)}},re={type:_.Attribute,name:`signals`,onLoad:e=>{let{key:t,mods:n,signals:r,value:i,genRX:a}=e,o=n.has(`ifmissing`);if(t!==``){let e=D(t,n),s=i===``?i:a()();o?r.upsertIfMissing(e,s):r.setValue(e,s)}else{let t=T(e.value);e.value=JSON.stringify(t);let n=a(),i=n();r.merge(i,o)}}},ie={type:_.Attribute,name:`star`,keyReq:v.Denied,valReq:v.Denied,onLoad:()=>{alert(`YOU ARE PROBABLY OVERCOMPLICATING IT`)}};var ae=class{#value=0;#prefix;constructor(e=s){this.#prefix=e}with(e){if(typeof e==`string`)for(let t of e.split(``))this.with(t.charCodeAt(0));else typeof e==`boolean`?this.with(1<<(e?7:3)):this.#value=this.#value*33^e;return this}get value(){return this.#value}get string(){return this.#prefix+Math.abs(this.#value).toString(36)}};function oe(e){if(e.id)return e.id;let t=new ae,n=e;for(;n;){if(t.with(n.tagName||``),n.id){t.with(n.id);break}let e=n?.parentNode;e&&t.with([...e.children].indexOf(n)),n=e}return t.string}function se(e,t){return new ae().with(e).with(t).value}function ce(e,t){if(!e||!(e instanceof HTMLElement||e instanceof SVGElement))return null;let n=e.dataset;if(`starIgnore`in n)return null;`starIgnore__self`in n||t(e);let r=e.firstElementChild;for(;r;)ce(r,t),r=r.nextElementSibling}const le=`https://data-star.dev/errors`;function ue(e,t,n={}){let r=Error();r.name=`${s} ${e} error`;let i=C(t),a=new URLSearchParams({metadata:JSON.stringify(n)}).toString(),o=JSON.stringify(n,null,2);return r.message=`${t}\nMore info: ${le}/${e}/${i}?${a}\nContext: ${o}`,r}function O(e,t,n={}){return ue(`internal`,t,Object.assign({from:e},n))}function k(e,t,n={}){let r={plugin:{name:t.plugin.name,type:_[t.plugin.type]}};return ue(`init`,e,Object.assign(r,n))}function A(e,t,n={}){let r={plugin:{name:t.plugin.name,type:_[t.plugin.type]},element:{id:t.el.id,tag:t.el.tagName},expression:{rawKey:t.rawKey,key:t.key,value:t.value,validSignals:t.signals.paths(),fnContent:t.fnContent}};return ue(`runtime`,e,Object.assign(r,n))}const j=`preact-signals`,de=Symbol.for(`preact-signals`),M=1,N=2,P=4,F=8,I=16,L=32;function fe(){B++}function pe(){if(B>1){B--;return}let e,t=!1;for(;z!==void 0;){let n=z;for(z=void 0,me++;n!==void 0;){let r=n._nextBatchedEffect;if(n._nextBatchedEffect=void 0,n._flags&=~N,!(n._flags&F)&&ge(n))try{n._callback()}catch(n){t||(e=n,t=!0)}n=r}}if(me=0,B--,t)throw e}let R,z,B=0,me=0,V=0;function he(e){if(R===void 0)return;let t=e._node;if(t===void 0||t._target!==R)return t={_version:0,_source:e,_prevSource:R._sources,_nextSource:void 0,_target:R,_prevTarget:void 0,_nextTarget:void 0,_rollbackNode:t},R._sources!==void 0&&(R._sources._nextSource=t),R._sources=t,e._node=t,R._flags&L&&e._subscribe(t),t;if(t._version===-1)return t._version=0,t._nextSource!==void 0&&(t._nextSource._prevSource=t._prevSource,t._prevSource!==void 0&&(t._prevSource._nextSource=t._nextSource),t._prevSource=R._sources,t._nextSource=void 0,R._sources._nextSource=t,R._sources=t),t}function H(e){this._value=e,this._version=0,this._node=void 0,this._targets=void 0}H.prototype.brand=de,H.prototype._refresh=()=>!0,H.prototype._subscribe=function(e){this._targets!==e&&e._prevTarget===void 0&&(e._nextTarget=this._targets,this._targets!==void 0&&(this._targets._prevTarget=e),this._targets=e)},H.prototype._unsubscribe=function(e){if(this._targets!==void 0){let t=e._prevTarget,n=e._nextTarget;t!==void 0&&(t._nextTarget=n,e._prevTarget=void 0),n!==void 0&&(n._prevTarget=t,e._nextTarget=void 0),e===this._targets&&(this._targets=n)}},H.prototype.subscribe=function(e){return Ce(()=>{let t=this.value,n=R;R=void 0;try{e(t)}finally{R=n}})},H.prototype.valueOf=function(){return this.value},H.prototype.toString=function(){return`${this.value}`},H.prototype.toJSON=function(){return this.value},H.prototype.peek=function(){let e=R;R=void 0;try{return this.value}finally{R=e}},Object.defineProperty(H.prototype,`value`,{get(){let e=he(this);return e!==void 0&&(e._version=this._version),this._value},set(e){if(e!==this._value){if(me>100)throw O(j,`SignalCycleDetected`);let t=this._value,n=e;this._value=e,this._version++,V++,fe();try{for(let e=this._targets;e!==void 0;e=e._nextTarget)e._target._notify()}finally{pe()}this?._onChange({old:t,revised:n})}}});function ge(e){for(let t=e._sources;t!==void 0;t=t._nextSource)if(t._source._version!==t._version||!t._source._refresh()||t._source._version!==t._version)return!0;return!1}function _e(e){for(let t=e._sources;t!==void 0;t=t._nextSource){let n=t._source._node;if(n!==void 0&&(t._rollbackNode=n),t._source._node=t,t._version=-1,t._nextSource===void 0){e._sources=t;break}}}function ve(e){let t=e._sources,n;for(;t!==void 0;){let e=t._prevSource;t._version===-1?(t._source._unsubscribe(t),e!==void 0&&(e._nextSource=t._nextSource),t._nextSource!==void 0&&(t._nextSource._prevSource=e)):n=t,t._source._node=t._rollbackNode,t._rollbackNode!==void 0&&(t._rollbackNode=void 0),t=e}e._sources=n}function U(e){H.call(this,void 0),this._fn=e,this._sources=void 0,this._globalVersion=V-1,this._flags=P}U.prototype=new H,U.prototype._refresh=function(){if(this._flags&=~N,this._flags&M)return!1;if((this._flags&(P|L))===L||(this._flags&=~P,this._globalVersion===V))return!0;if(this._globalVersion=V,this._flags|=M,this._version>0&&!ge(this))return this._flags&=~M,!0;let e=R;try{_e(this),R=this;let e=this._fn();(this._flags&I||this._value!==e||this._version===0)&&(this._value=e,this._flags&=~I,this._version++)}catch(e){this._value=e,this._flags|=I,this._version++}return R=e,ve(this),this._flags&=~M,!0},U.prototype._subscribe=function(e){if(this._targets===void 0){this._flags|=P|L;for(let e=this._sources;e!==void 0;e=e._nextSource)e._source._subscribe(e)}H.prototype._subscribe.call(this,e)},U.prototype._unsubscribe=function(e){if(this._targets!==void 0&&(H.prototype._unsubscribe.call(this,e),this._targets===void 0)){this._flags&=~L;for(let e=this._sources;e!==void 0;e=e._nextSource)e._source._unsubscribe(e)}},U.prototype._notify=function(){if(!(this._flags&N)){this._flags|=P|N;for(let e=this._targets;e!==void 0;e=e._nextTarget)e._target._notify()}},Object.defineProperty(U.prototype,`value`,{get(){if(this._flags&M)throw O(j,`SignalCycleDetected`);let e=he(this);if(this._refresh(),e!==void 0&&(e._version=this._version),this._flags&I)throw O(j,`GetComputedError`,{value:this._value});return this._value}});function ye(e){return new U(e)}function be(e){let t=e._cleanup;if(e._cleanup=void 0,typeof t==`function`){fe();let n=R;R=void 0;try{t()}catch(t){throw e._flags&=~M,e._flags|=F,xe(e),O(j,`CleanupEffectError`,{error:t})}finally{R=n,pe()}}}function xe(e){for(let t=e._sources;t!==void 0;t=t._nextSource)t._source._unsubscribe(t);e._fn=void 0,e._sources=void 0,be(e)}function Se(e){if(R!==this)throw O(j,`EndEffectError`);ve(this),R=e,this._flags&=~M,this._flags&F&&xe(this),pe()}function W(e){this._fn=e,this._cleanup=void 0,this._sources=void 0,this._nextBatchedEffect=void 0,this._flags=L}W.prototype._callback=function(){let e=this._start();try{if(this._flags&F||this._fn===void 0)return;let e=this._fn();typeof e==`function`&&(this._cleanup=e)}finally{e()}},W.prototype._start=function(){if(this._flags&M)throw O(j,`SignalCycleDetected`);this._flags|=M,this._flags&=~F,be(this),_e(this),fe();let e=R;return R=this,Se.bind(this,e)},W.prototype._notify=function(){this._flags&N||(this._flags|=N,this._nextBatchedEffect=z,z=this)},W.prototype._dispose=function(){this._flags|=F,this._flags&M||xe(this)};function Ce(e){let t=new W(e);try{t._callback()}catch(e){throw t._dispose(),e}return t._dispose.bind(t)}const we=`namespacedSignals`,G=e=>{document.dispatchEvent(new CustomEvent(y,{detail:Object.assign({added:[],removed:[],updated:[]},e)}))};function Te(e,t=!1){let n={};for(let r in e)if(Object.hasOwn(e,r)){if(t&&r.startsWith(`_`))continue;let i=e[r];i instanceof H?n[r]=i.value:n[r]=Te(i)}return n}function Ee(e,t,n=!1){let r={added:[],removed:[],updated:[]};for(let i in t)if(Object.hasOwn(t,i)){if(i.match(/\_\_+/))throw O(we,`InvalidSignalKey`,{key:i});let a=t[i];if(a instanceof Object&&!Array.isArray(a)){e[i]||(e[i]={});let t=Ee(e[i],a,n);r.added.push(...t.added.map(e=>`${i}.${e}`)),r.removed.push(...t.removed.map(e=>`${i}.${e}`)),r.updated.push(...t.updated.map(e=>`${i}.${e}`))}else{let t=Object.hasOwn(e,i);if(t){if(n)continue;let t=e[i];if(t instanceof H){let e=t.value;t.value=a,e!==a&&r.updated.push(i);continue}}let o=new H(a);o._onChange=()=>{G({updated:[i]})},e[i]=o,r.added.push(i)}}return r}function De(e,t){for(let n in e)if(Object.hasOwn(e,n)){let r=e[n];r instanceof H?t(n,r):De(r,(e,r)=>{t(`${n}.${e}`,r)})}}function Oe(e,...t){let n={};for(let r of t){let t=r.split(`.`),i=e,a=n;for(let e=0;e<t.length-1;e++){let n=t[e];if(!i[n])return{};a[n]||(a[n]={}),i=i[n],a=a[n]}let o=t[t.length-1];a[o]=i[o]}return n}var ke=class{#signals={};exists(e){return!!this.signal(e)}signal(e){let t=e.split(`.`),n=this.#signals;for(let e=0;e<t.length-1;e++){let r=t[e];if(!n[r])return null;n=n[r]}let r=t[t.length-1],i=n[r];if(!i)throw O(we,`SignalNotFound`,{path:e});return i}setSignal(e,t){let n=e.split(`.`),r=this.#signals;for(let e=0;e<n.length-1;e++){let t=n[e];r[t]||(r[t]={}),r=r[t]}let i=n[n.length-1];r[i]=t}setComputed(e,t){let n=ye(()=>t());this.setSignal(e,n)}value(e){let t=this.signal(e);return t?.value}setValue(e,t){let{signal:n}=this.upsertIfMissing(e,t),r=n.value;n.value=t,r!==t&&G({updated:[e]})}upsertIfMissing(e,t){let n=e.split(`.`),r=this.#signals;for(let e=0;e<n.length-1;e++){let t=n[e];r[t]||(r[t]={}),r=r[t]}let i=n[n.length-1],a=r[i];if(a instanceof H)return{signal:a,inserted:!1};let o=new H(t);return o._onChange=()=>{G({updated:[e]})},r[i]=o,G({added:[e]}),{signal:o,inserted:!0}}remove(...e){if(!e.length){this.#signals={};return}let t=[];for(let n of e){let e=n.split(`.`),r=this.#signals;for(let t=0;t<e.length-1;t++){let n=e[t];if(!r[n])return;r=r[n]}let i=e[e.length-1];delete r[i],t.push(n)}G({removed:t})}merge(e,t=!1){let n=Ee(this.#signals,e,t);(n.added.length||n.removed.length||n.updated.length)&&G(n)}subset(...e){return Oe(this.values(),...e)}walk(e){De(this.#signals,e)}paths(){let e=[];return this.walk(t=>e.push(t)),e}values(e=!1){return Te(this.#signals,e)}JSON(e=!0,t=!1){let n=this.values(t);return e?JSON.stringify(n,null,2):JSON.stringify(n)}toString(){return this.JSON()}};const Ae=new ke,je={},Me=[],K=new Map;let Ne=null,Pe=``;function Fe(e){Pe=e}function Ie(...e){for(let t of e){let e={plugin:t,signals:Ae,effect:e=>Ce(e),actions:je,removals:K,applyToElement:Re},n;switch(t.type){case _.Action:je[t.name]=t;break;case _.Attribute:{let e=t;Me.push(e),n=e.onGlobalInit;break}case _.Watcher:{let e=t;n=e.onGlobalInit;break}default:throw k(`InvalidPluginType`,e)}n&&n(e)}Me.sort((e,t)=>{let n=t.name.length-e.name.length;return n===0?e.name.localeCompare(t.name):n})}function Le(){queueMicrotask(()=>{Re(document.documentElement),ze()})}function Re(e){ce(e,e=>{let t=[],n=K.get(e.id)||new Map,r=new Map([...n]),i=new Map;for(let a of Object.keys(e.dataset)){if(!a.startsWith(Pe))break;let o=e.dataset[a]||``,s=se(a,o);i.set(a,s),n.has(s)?r.delete(s):t.push(a)}for(let[e,t]of r)t();for(let n of t){let t=i.get(n);Be(e,n,t)}})}function ze(){Ne||(Ne=new MutationObserver(e=>{let t=new Set,n=new Set;for(let{target:r,type:i,addedNodes:a,removedNodes:o}of e)switch(i){case`childList`:for(let e of o)t.add(e);for(let e of a)n.add(e);break;case`attributes`:n.add(r);break}for(let e of t){let t=K.get(e.id);if(t){for(let[e,n]of t)n(),t.delete(e);t.size===0&&K.delete(e.id)}}for(let e of n)Re(e)}),Ne.observe(document.body,{attributes:!0,attributeOldValue:!0,childList:!0,subtree:!0}))}function Be(e,t,n){let r=S(t.slice(Pe.length)),i=Me.find(e=>{let t=RegExp(`^${e.name}([A-Z]|_|$)`);return t.test(r)});if(!i)return;e.id.length||(e.id=oe(e));let[a,...o]=r.slice(i.name.length).split(/\_\_+/),s=a.length>0;s&&(a=S(a));let c=e.dataset[t]||``,l=c.length>0,u={signals:Ae,applyToElement:Re,effect:e=>Ce(e),actions:je,removals:K,genRX:()=>Ve(u,...i.argNames||[]),plugin:i,el:e,rawKey:r,key:a,value:c,mods:new Map},d=i.keyReq||v.Allowed;if(s){if(d===v.Denied)throw A(`${i.name}KeyNotAllowed`,u)}else if(d===v.Must)throw A(`${i.name}KeyRequired`,u);let f=i.valReq||v.Allowed;if(l){if(f===v.Denied)throw A(`${i.name}ValueNotAllowed`,u)}else if(f===v.Must)throw A(`${i.name}ValueRequired`,u);if(d===v.Exclusive||f===v.Exclusive){if(s&&l)throw A(`${i.name}KeyAndValueProvided`,u);if(!s&&!l)throw A(`${i.name}KeyOrValueRequired`,u)}for(let e of o){let[t,...n]=e.split(`.`);u.mods.set(S(t),new Set(n.map(e=>e.toLowerCase())))}let p=i.onLoad(u)??(()=>{}),m=K.get(e.id);m||(m=new Map,K.set(e.id,m)),m.set(n,p)}function Ve(e,...t){let n=``,r=/(\/(\\\/|[^\/])*\/|"(\\"|[^\"])*"|'(\\'|[^'])*'|`(\\`|[^`])*`|[^;])+/gm,i=e.value.trim().match(r);if(i){let e=i.length-1,t=i[e].trim();t.startsWith(`return`)||(i[e]=`return (${t});`),n=i.join(`;
`)}let s=new Map,c=RegExp(`(?:${a})(.*?)(?:${o})`,`gm`);for(let e of n.matchAll(c)){let t=e[1],r=new ae(`dsEscaped`).with(t).string;s.set(r,t),n=n.replace(a+t+o,r)}let l=/@(\w*)\(/gm,u=n.matchAll(l),d=new Set;for(let e of u)d.add(e[1]);let f=RegExp(`@(${Object.keys(je).join(`|`)})\\(`,`gm`);n=n.replaceAll(f,`ctx.actions.$1.fn(ctx,`);let p=e.signals.paths();if(p.length){let e=RegExp(`\\$(${p.join(`|`)})(\\W|$)`,`gm`);n=n.replaceAll(e,`ctx.signals.signal('$1').value$2`)}for(let[e,t]of s)n=n.replace(e,t);let m=`return (() => {\n${n}\n})()`;e.fnContent=m;try{let n=Function(`ctx`,...t,m);return(...t)=>{try{return n(e,...t)}catch(t){throw A(`ExecuteExpression`,e,{error:t.message})}}}catch(t){throw A(`GenerateExpression`,e,{error:t.message})}}Ie(ie,re,ne);const q=`${s}-sse`,He=`started`,Ue=`finished`,We=`error`,Ge=`retrying`,Ke=`retries-failed`;function J(e,t){document.addEventListener(q,n=>{if(n.detail.type!==e)return;let{argsRaw:r}=n.detail;t(r)})}function Y(e,t,n){document.dispatchEvent(new CustomEvent(q,{detail:{type:e,elId:t,argsRaw:n}}))}async function qe(e,t){let n=e.getReader(),r;for(;!(r=await n.read()).done;)t(r.value)}var X;(function(e){e[e.NewLine=10]=`NewLine`,e[e.CarriageReturn=13]=`CarriageReturn`,e[e.Space=32]=`Space`,e[e.Colon=58]=`Colon`})(X||={});function Je(e){let t,n,r,i=!1;return function(a){t===void 0?(t=a,n=0,r=-1):t=Xe(t,a);let o=t.length,s=0;for(;n<o;){i&&(t[n]===X.NewLine&&(s=++n),i=!1);let a=-1;for(;n<o&&a===-1;++n)switch(t[n]){case X.Colon:r===-1&&(r=n-s);break;case X.CarriageReturn:i=!0;case X.NewLine:a=n;break}if(a===-1)break;e(t.subarray(s,a),r),s=n,r=-1}s===o?t=void 0:s!==0&&(t=t.subarray(s),n-=s)}}function Ye(e,t,n){let r=Ze(),i=new TextDecoder;return function(a,o){if(a.length===0)n?.(r),r=Ze();else if(o>0){let n=i.decode(a.subarray(0,o)),s=o+(a[o+1]===X.Space?2:1),c=i.decode(a.subarray(s));switch(n){case`data`:r.data=r.data?`${r.data}\n${c}`:c;break;case`event`:r.event=c;break;case`id`:e(r.id=c);break;case`retry`:{let e=Number.parseInt(c,10);Number.isNaN(e)||t(r.retry=e);break}}}}}function Xe(e,t){let n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function Ze(){return{data:``,event:``,id:``,retry:void 0}}const Qe=`text/event-stream`,$e=`last-event-id`;function et(e,t,{signal:n,headers:r,onopen:i,onmessage:a,onclose:o,onerror:s,openWhenHidden:c,fetch:l,retryInterval:u=1e3,retryScaler:d=2,retryMaxWaitMs:f=3e4,retryMaxCount:p=10,...m}){return new Promise((h,g)=>{let _=0,v={...r};v.accept||=Qe;let y;function b(){y.abort(),document.hidden||T()}c||document.addEventListener(`visibilitychange`,b);let x=0;function S(){document.removeEventListener(`visibilitychange`,b),window.clearTimeout(x),y.abort()}n?.addEventListener(`abort`,()=>{S(),h()});let C=l??window.fetch,w=i??function(){};async function T(){y=new AbortController;try{let t=await C(e,{...m,headers:v,signal:y.signal});await w(t),await qe(t.body,Je(Ye(e=>{e?v[$e]=e:delete v[$e]},e=>{u=e},a))),o?.(),S(),h()}catch(n){if(!y.signal.aborted)try{let r=s?.(n)??u;window.clearTimeout(x),x=window.setTimeout(T,r),u*=d,u=Math.min(u,f),_++,_>p?(Y(Ke,t,{}),S(),g(`Max retries reached.`)):console.error(`Datastar failed to reach ${e.toString()} retrying in ${r}ms.`)}catch(e){S(),g(e)}}}T()})}const tt=e=>`${e}`.includes(`text/event-stream`),Z=async(e,t,n,r)=>{let{el:i,signals:a}=e,o=i.id,{headers:u,contentType:d,includeLocal:f,selector:p,openWhenHidden:m,retryInterval:h,retryScaler:g,retryMaxWaitMs:_,retryMaxCount:v,abort:y}=Object.assign({headers:{},contentType:`json`,includeLocal:!1,selector:null,openWhenHidden:!1,retryInterval:l,retryScaler:2,retryMaxWaitMs:3e4,retryMaxCount:10,abort:void 0},r),b=t.toLowerCase(),x=()=>{};try{if(Y(He,o,{}),!n?.length)throw A(`SseNoUrlProvided`,e,{action:b});let r={};r[c]=!0,d===`json`&&(r[`Content-Type`]=`application/json`);let l=Object.assign({},r,u),S={method:t,headers:l,openWhenHidden:m,retryInterval:h,retryScaler:g,retryMaxWaitMs:_,retryMaxCount:v,signal:y,onopen:async e=>{if(e.status>=400){let t=e.status.toString();Y(We,o,{status:t})}},onmessage:e=>{if(!e.event.startsWith(s))return;let t=e.event,n={},r=e.data.split(`
`);for(let e of r){let t=e.indexOf(` `),r=e.slice(0,t),i=n[r];i||(i=[],n[r]=i);let a=e.slice(t+1);i.push(a)}let i={};for(let[e,t]of Object.entries(n))i[e]=t.join(`
`);Y(t,o,i)},onerror:t=>{if(tt(t))throw A(`InvalidContentType`,e,{url:n});t&&(console.error(t.message),Y(Ge,o,{message:t.message}))}},C=new URL(n,window.location.origin),w=new URLSearchParams(C.search);if(d===`json`){let e=a.JSON(!1,!f);t===`GET`?w.set(s,e):S.body=e}else if(d===`form`){let n=p?document.querySelector(p):i.closest(`form`);if(n===null)throw p?A(`SseFormNotFound`,e,{action:b,selector:p}):A(`SseClosestFormNotFound`,e,{action:b});if(i!==n){let e=e=>e.preventDefault();n.addEventListener(`submit`,e),x=()=>n.removeEventListener(`submit`,e)}if(!n.checkValidity()){n.reportValidity(),x();return}let r=new FormData(n);if(t===`GET`){let e=new URLSearchParams(r);for(let[t,n]of e)w.set(t,n)}else S.body=r}else throw A(`SseInvalidContentType`,e,{action:b,contentType:d});C.search=w.toString();try{await et(C.toString(),o,S)}catch(r){if(!tt(r))throw A(`SseFetchFailed`,e,{method:t,url:n,error:r})}}finally{Y(Ue,o,{}),x()}},nt={type:_.Action,name:`delete`,fn:async(e,t,n)=>Z(e,`DELETE`,t,{...n})},rt={type:_.Action,name:`get`,fn:async(e,t,n)=>Z(e,`GET`,t,{...n})},it={type:_.Action,name:`patch`,fn:async(e,t,n)=>Z(e,`PATCH`,t,{...n})},at={type:_.Action,name:`post`,fn:async(e,t,n)=>Z(e,`POST`,t,{...n})},ot={type:_.Action,name:`put`,fn:async(e,t,n)=>Z(e,`PUT`,t,{...n})},st={type:_.Attribute,name:`indicator`,keyReq:v.Exclusive,valReq:v.Exclusive,onLoad:({el:e,key:t,mods:n,signals:r,value:i})=>{let a=t?D(t,n):E(i),{signal:o}=r.upsertIfMissing(a,!1),s=t=>{let{type:n,elId:r}=t.detail;if(r===e.id)switch(n){case He:o.value=!0;break;case Ue:o.value=!1,document.removeEventListener(q,s);break}};document.addEventListener(q,s)}},ct={type:_.Watcher,name:g.ExecuteScript,onGlobalInit:async e=>{J(g.ExecuteScript,({autoRemove:t=`${p}`,attributes:n=u,script:r})=>{let i=b(t);if(!r?.length)throw k(`NoScriptProvided`,e);let a=document.createElement(`script`);for(let e of n.split(`
`)){let t=e.indexOf(` `),n=t?e.slice(0,t):e,r=t?e.slice(t):``;a.setAttribute(n.trim(),r.trim())}a.text=r,document.head.appendChild(a),i&&a.remove()})}},lt=document,ut=!!lt.startViewTransition;function Q(e,t){if(t.has(`viewtransition`)&&ut){let t=e;e=(...e)=>document.startViewTransition(()=>t(...e))}return e}var dt=function(){"use strict";let e=()=>{},t={morphStyle:`outerHTML`,callbacks:{beforeNodeAdded:e,afterNodeAdded:e,beforeNodeMorphed:e,afterNodeMorphed:e,beforeNodeRemoved:e,afterNodeRemoved:e,beforeAttributeUpdated:e},head:{style:`merge`,shouldPreserve:e=>e.getAttribute(`im-preserve`)===`true`,shouldReAppend:e=>e.getAttribute(`im-re-append`)===`true`,shouldRemove:e,afterHeadMorphed:e},restoreFocus:!0};function n(e,t,n={}){e=u(e);let o=d(t),c=l(e,o,n),f=i(c,()=>s(c,e,o,t=>t.morphStyle===`innerHTML`?(a(t,e,o),Array.from(e.childNodes)):r(t,e,o)));return c.pantry.remove(),f}function r(e,t,n){let r=d(t);return a(e,r,n,t,t.nextSibling),Array.from(r.childNodes)}function i(e,t){if(!e.config.restoreFocus)return t();let n=document.activeElement;if(!(n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement))return t();let{id:r,selectionStart:i,selectionEnd:a}=n,o=t();return r&&r!==document.activeElement?.id&&(n=e.target.querySelector(`[id="${r}"]`),n?.focus()),n&&!n.selectionEnd&&a&&n.setSelectionRange(i,a),o}let a=function(){function e(e,s,c,l=null,u=null){s instanceof HTMLTemplateElement&&c instanceof HTMLTemplateElement&&(s=s.content,c=c.content),l||=s.firstChild;for(let r of c.childNodes){if(l&&l!=u){let t=n(e,r,l,u);if(t){t!==l&&i(e,l,t),o(t,r,e),l=t.nextSibling;continue}}if(r instanceof Element&&e.persistentIds.has(r.id)){let t=a(s,r.id,l,e);o(t,r,e),l=t.nextSibling;continue}let c=t(s,r,l,e);c&&(l=c.nextSibling)}for(;l&&l!=u;){let t=l;l=l.nextSibling,r(e,t)}}function t(e,t,n,r){if(r.callbacks.beforeNodeAdded(t)===!1)return null;if(r.idMap.has(t)){let i=document.createElement(t.tagName);return e.insertBefore(i,n),o(i,t,r),r.callbacks.afterNodeAdded(i),i}else{let i=document.importNode(t,!0);return e.insertBefore(i,n),r.callbacks.afterNodeAdded(i),i}}let n=function(){function e(e,r,i,a){let o=null,s=r.nextSibling,c=0,l=i;for(;l&&l!=a;){if(n(l,r)){if(t(e,l,r))return l;o===null&&(e.idMap.has(l)||(o=l))}if(o===null&&s&&n(l,s)&&(c++,s=s.nextSibling,c>=2&&(o=void 0)),l.contains(document.activeElement))break;l=l.nextSibling}return o||null}function t(e,t,n){let r=e.idMap.get(t),i=e.idMap.get(n);if(!i||!r)return!1;for(let e of r)if(i.has(e))return!0;return!1}function n(e,t){let n=e,r=t;return n.nodeType===r.nodeType&&n.tagName===r.tagName&&(!n.id||n.id===r.id)}return e}();function r(e,t){if(e.idMap.has(t))c(e.pantry,t,null);else{if(e.callbacks.beforeNodeRemoved(t)===!1)return;t.parentNode?.removeChild(t),e.callbacks.afterNodeRemoved(t)}}function i(e,t,n){let i=t;for(;i&&i!==n;){let t=i;i=i.nextSibling,r(e,t)}return i}function a(e,t,n,r){let i=r.target.id===t&&r.target||r.target.querySelector(`[id="${t}"]`)||r.pantry.querySelector(`[id="${t}"]`);return s(i,r),c(e,i,n),i}function s(e,t){let n=e.id;for(;e=e.parentNode;){let r=t.idMap.get(e);r&&(r.delete(n),r.size||t.idMap.delete(e))}}function c(e,t,n){if(e.moveBefore)try{e.moveBefore(t,n)}catch{e.insertBefore(t,n)}else e.insertBefore(t,n)}return e}(),o=function(){function e(e,n,r){return r.ignoreActive&&e===document.activeElement?null:r.callbacks.beforeNodeMorphed(e,n)===!1?e:(e instanceof HTMLHeadElement&&r.head.ignore||(e instanceof HTMLHeadElement&&r.head.style!==`morph`?c(e,n,r):(t(e,n,r),o(e,r)||a(r,e,n))),r.callbacks.afterNodeMorphed(e,n),e)}function t(e,t,r){let a=t.nodeType;if(a===1){let a=e,s=t,c=a.attributes,l=s.attributes;for(let e of l){if(i(e.name,a,`update`,r))continue;a.getAttribute(e.name)!==e.value&&a.setAttribute(e.name,e.value)}for(let e=c.length-1;0<=e;e--){let t=c[e];if(t&&!s.hasAttribute(t.name)){if(i(t.name,a,`remove`,r))continue;a.removeAttribute(t.name)}}o(a,r)||n(a,s,r)}(a===8||a===3)&&e.nodeValue!==t.nodeValue&&(e.nodeValue=t.nodeValue)}function n(e,t,n){if(e instanceof HTMLInputElement&&t instanceof HTMLInputElement&&t.type!==`file`){let a=t.value,o=e.value;r(e,t,`checked`,n),r(e,t,`disabled`,n),t.hasAttribute(`value`)?o!==a&&(i(`value`,e,`update`,n)||(e.setAttribute(`value`,a),e.value=a)):i(`value`,e,`remove`,n)||(e.value=``,e.removeAttribute(`value`))}else if(e instanceof HTMLOptionElement&&t instanceof HTMLOptionElement)r(e,t,`selected`,n);else if(e instanceof HTMLTextAreaElement&&t instanceof HTMLTextAreaElement){let r=t.value,a=e.value;if(i(`value`,e,`update`,n))return;r!==a&&(e.value=r),e.firstChild&&e.firstChild.nodeValue!==r&&(e.firstChild.nodeValue=r)}}function r(e,t,n,r){let a=t[n],o=e[n];if(a!==o){let o=i(n,e,`update`,r);o||(e[n]=t[n]),a?o||e.setAttribute(n,``):i(n,e,`remove`,r)||e.removeAttribute(n)}}function i(e,t,n,r){return e===`value`&&r.ignoreActiveValue&&t===document.activeElement?!0:r.callbacks.beforeAttributeUpdated(e,t,n)===!1}function o(e,t){return!!t.ignoreActiveValue&&e===document.activeElement&&e!==document.body}return e}();function s(e,t,n,r){if(e.head.block){let i=t.querySelector(`head`),a=n.querySelector(`head`);if(i&&a){let t=c(i,a,e);return Promise.all(t).then(()=>{let t=Object.assign(e,{head:{block:!1,ignore:!0}});return r(t)})}}return r(e)}function c(e,t,n){let r=[],i=[],a=[],o=[],s=new Map;for(let e of t.children)s.set(e.outerHTML,e);for(let t of e.children){let e=s.has(t.outerHTML),r=n.head.shouldReAppend(t),c=n.head.shouldPreserve(t);e||c?r?i.push(t):(s.delete(t.outerHTML),a.push(t)):n.head.style===`append`?r&&(i.push(t),o.push(t)):n.head.shouldRemove(t)!==!1&&i.push(t)}o.push(...s.values());let c=[];for(let t of o){let i=document.createRange().createContextualFragment(t.outerHTML).firstChild;if(n.callbacks.beforeNodeAdded(i)!==!1){if(`href`in i&&i.href||`src`in i&&i.src){let e,t=new Promise(function(t){e=t});i.addEventListener(`load`,function(){e()}),c.push(t)}e.appendChild(i),n.callbacks.afterNodeAdded(i),r.push(i)}}for(let t of i)n.callbacks.beforeNodeRemoved(t)!==!1&&(e.removeChild(t),n.callbacks.afterNodeRemoved(t));return n.head.afterHeadMorphed(e,{added:r,kept:a,removed:i}),c}let l=function(){function e(e,t,i){let{persistentIds:a,idMap:s}=o(e,t),c=n(i),l=c.morphStyle||`outerHTML`;if(![`innerHTML`,`outerHTML`].includes(l))throw`Do not understand how to morph style ${l}`;return{target:e,newContent:t,config:c,morphStyle:l,ignoreActive:c.ignoreActive,ignoreActiveValue:c.ignoreActiveValue,restoreFocus:c.restoreFocus,idMap:s,persistentIds:a,pantry:r(),callbacks:c.callbacks,head:c.head}}function n(e){let n=Object.assign({},t);return Object.assign(n,e),n.callbacks=Object.assign({},t.callbacks,e.callbacks),n.head=Object.assign({},t.head,e.head),n}function r(){let e=document.createElement(`div`);return e.hidden=!0,document.body.insertAdjacentElement(`afterend`,e),e}function i(e){let t=Array.from(e.querySelectorAll(`[id]`));return e.id&&t.push(e),t}function a(e,t,n,r){for(let i of r)if(t.has(i.id)){let t=i;for(;t;){let r=e.get(t);if(r??(r=new Set,e.set(t,r)),r.add(i.id),t===n)break;t=t.parentElement}}}function o(e,t){let n=i(e),r=i(t),o=s(n,r),c=new Map;a(c,o,e,n);let l=t.__idiomorphRoot||t;return a(c,o,l,r),{persistentIds:o,idMap:c}}function s(e,t){let n=new Set,r=new Map;for(let{id:t,tagName:i}of e)r.has(t)?n.add(t):r.set(t,i);let i=new Set;for(let{id:e,tagName:a}of t)i.has(e)?n.add(e):r.get(e)===a&&i.add(e);for(let e of n)i.delete(e);return i}return e}(),{normalizeElement:u,normalizeParent:d}=function(){let e=new WeakSet;function t(e){return e instanceof Document?e.documentElement:e}function n(t){if(t==null)return document.createElement(`div`);if(typeof t==`string`)return n(i(t));if(e.has(t))return t;if(t instanceof Node){if(t.parentNode)return new r(t);{let e=document.createElement(`div`);return e.append(t),e}}else{let e=document.createElement(`div`);for(let n of[...t])e.append(n);return e}}class r{constructor(e){this.originalNode=e,this.realParentNode=e.parentNode,this.previousSibling=e.previousSibling,this.nextSibling=e.nextSibling}get childNodes(){let e=[],t=this.previousSibling?this.previousSibling.nextSibling:this.realParentNode.firstChild;for(;t&&t!=this.nextSibling;)e.push(t),t=t.nextSibling;return e}querySelectorAll(e){return this.childNodes.reduce((t,n)=>{if(n instanceof Element){n.matches(e)&&t.push(n);let r=n.querySelectorAll(e);for(let e=0;e<r.length;e++)t.push(r[e])}return t},[])}insertBefore(e,t){return this.realParentNode.insertBefore(e,t)}moveBefore(e,t){return this.realParentNode.moveBefore(e,t)}get __idiomorphRoot(){return this.originalNode}}function i(t){let n=new DOMParser,r=t.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,``);if(r.match(/<\/html>/)||r.match(/<\/head>/)||r.match(/<\/body>/)){let i=n.parseFromString(t,`text/html`);if(r.match(/<\/html>/))return e.add(i),i;{let t=i.firstChild;return t&&e.add(t),t}}else{let r=n.parseFromString(`<body><template>`+t+`</template></body>`,`text/html`),i=r.body.querySelector(`template`).content;return e.add(i),i}}return{normalizeElement:t,normalizeParent:n}}();return{morph:n,defaults:t}}();const ft={type:_.Watcher,name:g.MergeFragments,onGlobalInit:async e=>{let t=document.createElement(`template`);J(g.MergeFragments,({fragments:n=`<div></div>`,selector:r=``,mergeMode:i=h,useViewTransition:a=`${d}`})=>{let o=b(a);t.innerHTML=n.trim();let s=[...t.content.children];for(let t of s){if(!(t instanceof Element))throw k(`NoFragmentsFound`,e);let n=r||`#${t.getAttribute(`id`)}`,a=[...document.querySelectorAll(n)||[]];if(!a.length)throw k(`NoTargetsFound`,e,{selectorOrID:n});o&&ut?lt.startViewTransition(()=>pt(e,i,t,a)):pt(e,i,t,a)}})}};function pt(e,t,n,r){for(let i of r){i.dataset.fragmentMergeTarget=`true`;let r=n.cloneNode(!0);switch(t){case m.Morph:ce(r,t=>{!t.id?.length&&Object.keys(t.dataset).length&&(t.id=oe(t));let n=e.removals.get(t.id);if(n){let r=new Map;for(let[e,t]of n){let i=se(e,e);r.set(i,t),n.delete(e)}e.removals.set(t.id,r)}}),dt.morph(i,r);break;case m.Inner:i.innerHTML=r.outerHTML;break;case m.Outer:i.replaceWith(r);break;case m.Prepend:i.prepend(r);break;case m.Append:i.append(r);break;case m.Before:i.before(r);break;case m.After:i.after(r);break;case m.UpsertAttributes:for(let e of r.getAttributeNames()){let t=r.getAttribute(e);i.setAttribute(e,t)}break;default:throw k(`InvalidMergeMode`,e,{mergeMode:t})}}}const mt={type:_.Watcher,name:g.MergeSignals,onGlobalInit:async e=>{J(g.MergeSignals,({signals:t=`{}`,onlyIfMissing:n=`${f}`})=>{let{signals:r}=e,i=b(n);r.merge(T(t),i)})}},ht={type:_.Watcher,name:g.RemoveFragments,onGlobalInit:async e=>{J(g.RemoveFragments,({selector:t,useViewTransition:n=`${d}`})=>{if(!t.length)throw k(`NoSelectorProvided`,e);let r=b(n),i=document.querySelectorAll(t),a=()=>{for(let e of i)e.remove()};r&&ut?lt.startViewTransition(()=>a()):a()})}},gt={type:_.Watcher,name:g.RemoveSignals,onGlobalInit:async e=>{J(g.RemoveSignals,({paths:t=``})=>{let n=t.split(`
`).map(e=>e.trim());if(!n?.length)throw k(`NoPathsProvided`,e);e.signals.remove(...n)})}},_t={type:_.Action,name:`clipboard`,fn:(e,t)=>{if(!navigator.clipboard)throw A(`ClipboardNotAvailable`,e);navigator.clipboard.writeText(t)}},vt={type:_.Attribute,name:`customValidity`,keyReq:v.Denied,valReq:v.Must,onLoad:e=>{let{el:t,genRX:n,effect:r}=e;if(!(t instanceof HTMLInputElement||t instanceof HTMLSelectElement||t instanceof HTMLTextAreaElement))throw A(`CustomValidityInvalidElement`,e);let i=n();return r(()=>{let n=i();if(typeof n!=`string`)throw A(`CustomValidityInvalidExpression`,e,{result:n});t.setCustomValidity(n)})}};function yt(e){if(!e||e.size<=0)return 0;for(let t of e){if(t.endsWith(`ms`))return Number(t.replace(`ms`,``));if(t.endsWith(`s`))return Number(t.replace(`s`,``))*1e3;try{return Number.parseFloat(t)}catch{}}return 0}function $(e,t,n=!1){return e?e.has(t.toLowerCase()):n}function bt(e,t,n=!1,r=!0){let i=-1,a=()=>i&&clearTimeout(i);return(...o)=>{a(),n&&!i&&e(...o),i=setTimeout(()=>{r&&e(...o),a()},t)}}function xt(e,t,n=!0,r=!1){let i=!1;return(...a)=>{i||(n&&e(...a),i=!0,setTimeout(()=>{i=!1,r&&e(...a)},t))}}function St(e,t){let n=t.get(`debounce`);if(n){let t=yt(n),r=$(n,`leading`,!1),i=!$(n,`notrail`,!1);e=bt(e,t,r,i)}let r=t.get(`throttle`);if(r){let t=yt(r),n=!$(r,`noleading`,!1),i=$(r,`trail`,!1);e=xt(e,t,n,i)}return e}const Ct={type:_.Attribute,name:`onIntersect`,keyReq:v.Denied,onLoad:({el:e,rawKey:t,mods:n,genRX:r})=>{let i=St(r(),n);i=Q(i,n);let a={threshold:0};n.has(`full`)?a.threshold=1:n.has(`half`)&&(a.threshold=.5);let o=new IntersectionObserver(r=>{for(let a of r)a.isIntersecting&&(i(),n.has(`once`)&&(o.disconnect(),delete e.dataset[t]))},a);return o.observe(e),()=>o.disconnect()}},wt={type:_.Attribute,name:`onInterval`,keyReq:v.Denied,valReq:v.Must,onLoad:({mods:e,genRX:t})=>{let n=Q(t(),e),r=1e3,i=e.get(`duration`);if(i){r=yt(i);let e=$(i,`leading`,!1);e&&n()}let a=setInterval(n,r);return()=>{clearInterval(a)}}},Tt={type:_.Attribute,name:`onLoad`,keyReq:v.Denied,valReq:v.Must,onLoad:({mods:e,genRX:t})=>{let n=Q(t(),e),r=0,i=e.get(`delay`);return i&&(r=yt(i)),setTimeout(n,r),()=>{}}},Et={type:_.Attribute,name:`onRaf`,keyReq:v.Denied,valReq:v.Must,onLoad:({mods:e,genRX:t})=>{let n=St(t(),e);n=Q(n,e);let r,i=()=>{n(),r=requestAnimationFrame(i)};return r=requestAnimationFrame(i),()=>{r&&cancelAnimationFrame(r)}}};function Dt(e,t){t=t.replaceAll(`.`,`\\.`).replaceAll(`**`,o).replaceAll(`*`,`[^\\.]*`).replaceAll(o,`.*`);let n=RegExp(`^${t}$`);return n.test(e)}function Ot(e,t){let n=[],r=t.split(/\s+/).filter(e=>e!==``);r=r.map(e=>E(e));for(let t of r)e.walk(e=>{Dt(e,t)&&n.push(e)});return n}const kt={type:_.Attribute,name:`onSignalChange`,valReq:v.Must,onLoad:({key:e,mods:t,signals:n,genRX:r})=>{let i=St(r(),t);if(i=Q(i,t),e===``){let e=e=>i(e);return document.addEventListener(y,e),()=>{document.removeEventListener(y,e)}}let a=D(e,t),o=new Map;return n.walk((e,t)=>{Dt(e,a)&&o.set(t,t.value)}),Ce(()=>{for(let[e,t]of o)t!==e.value&&(i(),o.set(e,e.value))})}},At={type:_.Attribute,name:`persist`,keyReq:v.Denied,onLoad:({effect:e,mods:t,signals:n,value:r})=>{let i=s,a=t.has(`session`)?sessionStorage:localStorage,o=r===``?`**`:r,c=()=>{let e=a.getItem(i)||`{}`,t=JSON.parse(e);n.merge(t)},l=()=>{let e=Ot(n,o),t=n.subset(...e);a.setItem(i,JSON.stringify(t))};return c(),e(()=>{l()})}},jt={type:_.Attribute,name:`replaceUrl`,keyReq:v.Denied,valReq:v.Must,onLoad:({effect:e,genRX:t})=>{let n=t();return e(()=>{let e=n(),t=window.location.href,r=new URL(e,t).toString();window.history.replaceState({},``,r)})}},Mt=`smooth`,Nt=`instant`,Pt=`auto`,Ft=`hstart`,It=`hcenter`,Lt=`hend`,Rt=`hnearest`,zt=`vstart`,Bt=`vcenter`,Vt=`vend`,Ht=`vnearest`,Ut=`center`,Wt=`start`,Gt=`end`,Kt=`nearest`,qt=`focus`,Jt={type:_.Attribute,name:`scrollIntoView`,keyReq:v.Denied,valReq:v.Denied,onLoad:e=>{let{el:t,mods:n,rawKey:r}=e;t.tabIndex||t.setAttribute(`tabindex`,`0`);let i={behavior:Mt,block:Ut,inline:Ut};if(n.has(Mt)&&(i.behavior=Mt),n.has(Nt)&&(i.behavior=Nt),n.has(Pt)&&(i.behavior=Pt),n.has(Ft)&&(i.inline=Wt),n.has(It)&&(i.inline=Ut),n.has(Lt)&&(i.inline=Gt),n.has(Rt)&&(i.inline=Kt),n.has(zt)&&(i.block=Wt),n.has(Bt)&&(i.block=Ut),n.has(Vt)&&(i.block=Gt),n.has(Ht)&&(i.block=Kt),!(t instanceof HTMLElement||t instanceof SVGElement))throw A(`ScrollIntoViewInvalidElement`,e);t.tabIndex||t.setAttribute(`tabindex`,`0`),t.scrollIntoView(i),n.has(qt)&&t.focus(),delete t.dataset[r]}},Yt=`view-transition`,Xt={type:_.Attribute,name:`viewTransition`,keyReq:v.Denied,valReq:v.Must,onGlobalInit(){let e=!1;for(let t of document.head.childNodes)t instanceof HTMLMetaElement&&t.name===Yt&&(e=!0);if(!e){let e=document.createElement(`meta`);e.name=Yt,e.content=`same-origin`,document.head.appendChild(e)}},onLoad:({effect:e,el:t,genRX:n})=>{if(!ut){console.error(`Browser does not support view transitions`);return}let r=n();return e(()=>{let e=r();if(!e?.length)return;let n=t.style;n.viewTransitionName=e})}},Zt={type:_.Attribute,name:`attr`,valReq:v.Must,onLoad:({el:e,key:t,effect:n,genRX:r})=>{let i=r();return t===``?n(async()=>{let t=i();for(let[n,r]of Object.entries(t))r===!1?e.removeAttribute(n):e.setAttribute(n,r)}):(t=x(t),n(async()=>{let n=!1;try{n=i()}catch{}let r;r=typeof n==`string`?n:JSON.stringify(n),!r||r===`false`||r===`null`||r===`undefined`?e.removeAttribute(t):e.setAttribute(t,r)}))}},Qt=/^data:(?<mime>[^;]+);base64,(?<contents>.*)$/,$t=[`change`,`input`,`keydown`],en={type:_.Attribute,name:`bind`,keyReq:v.Exclusive,valReq:v.Exclusive,onLoad:e=>{let{el:t,key:n,mods:r,signals:i,value:a,effect:o}=e,s=t,c=n?D(n,r):E(a),l=t.tagName.toLowerCase(),u=l.includes(`input`),d=l.includes(`select`),f=t.getAttribute(`type`),p=t.hasAttribute(`value`),m=``,h=u&&f===`checkbox`;h&&(m=p?``:!1);let g=u&&f===`number`;g&&(m=0);let _=u&&f===`radio`;if(_){let e=t.getAttribute(`name`);e?.length||t.setAttribute(`name`,c)}let v=u&&f===`file`,{signal:y,inserted:b}=i.upsertIfMissing(c,m),x=-1;Array.isArray(y.value)&&(t.getAttribute(`name`)===null&&t.setAttribute(`name`,c),x=[...document.querySelectorAll(`[name="${c}"]`)].findIndex(t=>t===e.el));let S=x>=0,C=()=>[...i.value(c)],w=()=>{let n=i.value(c);S&&!d&&(n=n[x]||m);let r=`${n}`;if(h||_)typeof n==`boolean`?s.checked=n:s.checked=r===s.value;else if(d){let i=t;if(i.multiple){if(!S)throw A(`BindSelectMultiple`,e);for(let e of i.options){if(e?.disabled)return;let t=g?Number(e.value):e.value;e.selected=n.includes(t)}}else i.value=r}else v||(`value`in t?t.value=r:t.setAttribute(`value`,r))},T=async()=>{let n=i.value(c);if(S){let e=n;for(;x>=e.length;)e.push(m);n=e[x]||m}let r=(e,t)=>{let n=t;S&&!d&&(n=C(),n[x]=t),i.setValue(e,n)};if(v){let t=[...s?.files||[]],n=[],i=[],a=[];await Promise.all(t.map(t=>new Promise(r=>{let o=new FileReader;o.onload=()=>{if(typeof o.result!=`string`)throw A(`InvalidFileResultType`,e,{resultType:typeof o.result});let r=o.result.match(Qt);if(!r?.groups)throw A(`InvalidDataUri`,e,{result:o.result});n.push(r.groups.contents),i.push(r.groups.mime),a.push(t.name)},o.onloadend=()=>r(void 0),o.readAsDataURL(t)}))),r(c,n),r(`${c}Mimes`,i),r(`${c}Names`,a);return}let a=s.value||``,o;if(h){let e=s.checked||s.getAttribute(`checked`)===`true`;o=p?e?a:``:e}else if(d){let e=t,n=[...e.selectedOptions];o=S?n.filter(e=>e.selected).map(e=>e.value):n[0]?.value||m}else o=typeof n==`boolean`?!!a:typeof n==`number`?Number(a):a||``;r(c,o)};b&&T();for(let e of $t)t.addEventListener(e,T);let ee=e=>{e.persisted&&T()};window.addEventListener(`pageshow`,ee);let te=o(()=>w());return()=>{te();for(let e of $t)t.removeEventListener(e,T);window.removeEventListener(`pageshow`,ee)}}},tn={type:_.Attribute,name:`class`,valReq:v.Must,onLoad:({el:e,key:t,mods:n,effect:r,genRX:i})=>{let a=e.classList,o=i();return r(()=>{if(t===``){let e=o();for(let[t,n]of Object.entries(e)){let e=t.split(/\s+/);n?a.add(...e):a.remove(...e)}}else{let e=x(t);e=D(e,n);let r=o();r?a.add(e):a.remove(e)}})}},nn={type:_.Attribute,name:`on`,keyReq:v.Must,valReq:v.Must,argNames:[`evt`],onLoad:({el:e,key:t,mods:n,genRX:r})=>{let i=r(),a=e;n.has(`window`)&&(a=window);let o=e=>{e&&((n.has(`prevent`)||t===`submit`)&&e.preventDefault(),n.has(`stop`)&&e.stopPropagation()),i(e)};o=St(o,n),o=Q(o,n);let s={capture:!1,passive:!1,once:!1};n.has(`capture`)&&(s.capture=!0),n.has(`passive`)&&(s.passive=!0),n.has(`once`)&&(s.once=!0);let c=n.has(`outside`);if(c){a=document;let t=o,n=n=>{let r=n?.target;e.contains(r)||t(n)};o=n}let l=x(t);return l=D(l,n),l===q&&(a=document),a.addEventListener(l,o,s),()=>{a.removeEventListener(l,o)}}},rn={type:_.Attribute,name:`ref`,keyReq:v.Exclusive,valReq:v.Exclusive,onLoad:({el:e,key:t,mods:n,signals:r,value:i})=>{let a=t?D(t,n):E(i);r.setValue(a,e)}},an=`none`,on=`display`,sn={type:_.Attribute,name:`show`,keyReq:v.Denied,valReq:v.Must,onLoad:({el:{style:e},genRX:t,effect:n})=>{let r=t();return n(async()=>{let t=r();t?e.display===an&&e.removeProperty(on):e.setProperty(on,an)})}},cn={type:_.Attribute,name:`text`,keyReq:v.Denied,valReq:v.Must,onLoad:e=>{let{el:t,effect:n,genRX:r}=e,i=r();return t instanceof HTMLElement||A(`TextInvalidElement`,e),n(()=>{let n=i(e);t.textContent=`${n}`})}},{round:ln,max:un,min:dn}=Math,fn={type:_.Action,name:`fit`,fn:(e,t,n,r,i,a,o=!1,s=!1)=>{let c=(t-n)/(r-n)*(a-i)+i;return s&&(c=ln(c)),o&&(c=un(i,dn(a,c))),c}},pn={type:_.Action,name:`setAll`,fn:({signals:e},t,n)=>{let r=Ot(e,t);for(let t of r)e.setValue(t,n)}},mn={type:_.Action,name:`toggleAll`,fn:({signals:e},t)=>{let n=Ot(e,t);for(let t of n)e.setValue(t,!e.value(t))}};Ie(Zt,en,tn,nn,rn,sn,cn,st,rt,at,ot,it,nt,ft,mt,ht,gt,ct,_t,vt,Ct,wt,Tt,Et,kt,At,jt,Jt,Xt,fn,pn,mn),Le(),window.resetForm=e,window.killMyself=n,window.killMyselfLater=r,window.submitLoginForm=t;export{Le as apply,Ie as load,Fe as setAlias};